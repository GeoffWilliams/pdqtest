require 'spec_helper'
require 'puppet_factset'
describe '<%= vars[:classname] %>' do
  # Uncomment only the factset you would like to use for these tests
<%
require 'puppet_factset'
default_factset = 'CentOS-7.0-64'
PuppetFactset.factsets.each { |factset|
-%>
  <% if factset != default_factset -%># <% end -%>system_name = '<%= factset %>'
<% } -%>
  let :facts do
    PuppetFactset::factset_hash(system_name)
  end

  context 'compiles ok' do
    it { should compile }
  end

  context 'with default values for all parameters' do
    it { should contain_class('<%= vars[:classname] %>') }
  end
end
